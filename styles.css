:root{
  /* Light (clar) */
  --bg1:#f7faff;
  --bg2:#eef2ff;
  --text:#0f172a;
  --muted:#475569;
  --label:#0f172a;
  --primary:#7c3aed;   /* violeta */
  --secondary:#06b6d4; /* cian */
  --accent:#f472b6;    /* rosa */
  --success:#16a34a;
  --danger:#ef4444;
  --cardA:#ffffffcc;
  --cardB:#ffffffcc;
  --border:#e5e7eb;
  --grid:#cbd5e1;
  --chip-grad:linear-gradient(135deg, #ede9fe, #cffafe);
  --radius:18px;
  --ring:0 0 0 2px #00000006, 0 12px 28px #0001;
}

[data-theme="dark"]{
  /* Dark (fosc) */
  --bg1:#1b2350;
  --bg2:#0f1739;
  --text:#ecf2ff;
  --muted:#d7e4ffcc;
  --label:#e2e8f0;
  --primary:#7c3aed;
  --secondary:#22d3ee;
  --accent:#f472b6;
  --success:#22c55e;
  --danger:#ef4444;
  --cardA:#1a2250cc;
  --cardB:#141b42cc;
  --border:#32407a;
  --grid:#2d3d78;
  --chip-grad:linear-gradient(135deg, #7c3aed29, #22d3ee29);
  --ring:0 0 0 2px #ffffff12, 0 12px 28px #00000055;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background:
    radial-gradient(1000px 540px at 8% -8%, color-mix(in oklab, var(--primary) 25%, transparent), transparent 60%),
    radial-gradient(900px 520px at 108% 6%, color-mix(in oklab, var(--secondary) 18%, transparent), transparent 60%),
    radial-gradient(1000px 600px at 60% 110%, color-mix(in oklab, var(--accent) 18%, transparent), transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
}

.container{max-width:1200px; margin:0 auto; padding:32px 20px 56px}
.header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:22px}
.brand{display:flex; gap:14px; align-items:center}
.logo{
  width:48px; height:48px; border-radius:14px;
  background: conic-gradient(from 100deg, var(--primary), var(--secondary), var(--accent), var(--primary));
  box-shadow: 0 14px 34px #0001;
  border: 1px solid color-mix(in oklab, var(--border), transparent 60%);
}
h1{margin:0; font-weight:800; font-size:24px; letter-spacing:.2px}
.sub{font-size:12px; color:var(--muted)}

.grid{display:grid; grid-template-columns:380px 1fr; gap:18px}
@media(max-width:900px){ .grid{grid-template-columns:1fr} }

.card{
  background:linear-gradient(180deg, var(--cardA), var(--cardB));
  border-radius:var(--radius); box-shadow:var(--ring); border:1px solid var(--border);
  overflow:hidden;
}
.card.flat{box-shadow:none}
.card .head{padding:16px; display:flex; justify-content:space-between; align-items:center}
.card .title{font-weight:800}
.card .body{padding:16px}

.pill{
  padding:6px 10px; border-radius:999px; font-size:12px;
  background:var(--chip-grad); border:1px solid var(--border); color:var(--text);
}

/* Form */
.form{display:grid; gap:12px}
.row{display:flex; gap:12px; flex-wrap:wrap}
.field{flex:1 1 160px}
.field label{font-size:12px; margin-bottom:6px; display:block; color:var(--muted)}
.input{
  width:100%; padding:16px 14px; border-radius:14px; font-size:15px;
  color:var(--text); background:linear-gradient(180deg, #fff, #f8fafc);
  border:1px solid var(--border); outline:none; transition:box-shadow .12s ease, border-color .12s ease;
}
[data-theme="dark"] .input{ background:linear-gradient(180deg, #1b2356, #141d49); }
.input:focus{border-color:color-mix(in oklab, var(--primary), #7aa2ff 40%); box-shadow:0 0 0 6px #7aa2ff22}
.input[type="month"]{appearance:none}

.btn{
  padding:12px 16px; border-radius:14px; font-weight:700; letter-spacing:.2px;
  background:linear-gradient(135deg, var(--primary), var(--secondary));
  color:white; border:none; cursor:pointer; box-shadow:var(--ring)
}
.btn:hover{filter:brightness(1.06)}
.btn.alt{
  background:linear-gradient(180deg, #fff, #f8fafc);
  border:1px solid var(--border); color:var(--text)
}
[data-theme="dark"] .btn.alt{ background:linear-gradient(180deg, #1a2143, #141a36); color:#e6edff }

/* KPIs (2) */
.kpis{display:grid; grid-template-columns:repeat(2,1fr); gap:12px}
.kpi{
  padding:18px; border-radius:16px; background:var(--chip-grad);
  border:1px solid var(--border); box-shadow:var(--ring)
}
.kpi h3{font-size:13px; margin:0 0 8px}
.kpi .value{font-size:30px; font-weight:900}
.kpi.positive .value{color:color-mix(in oklab, var(--success), #000 15%)}
.kpi.negative .value{color:color-mix(in oklab, var(--danger), #000 10%)}

/* Gr√†fics */
.charts{display:grid; grid-template-columns:1fr 1fr; gap:14px; margin-top:14px}
@media(max-width:900px){ .charts{grid-template-columns:1fr} }

/* Taula */
table{width:100%; border-collapse:separate; border-spacing:0 10px}
thead th{font-size:12px; text-align:left; padding:0 8px; color:var(--muted)}
tbody tr{background:color-mix(in oklab, var(--cardA), #fff 20%); border-radius:12px; border:1px solid var(--border)}
[data-theme="dark"] tbody tr{background:#111a46dd}
tbody td{padding:12px 10px}
.tag{
  padding:4px 10px; border-radius:10px; font-size:12px;
  background:color-mix(in oklab, var(--secondary) 15%, #fff); border:1px solid var(--border); color:var(--text)
}

/* Toast */
.toast{
  position:fixed; right:20px; bottom:20px; background:color-mix(in oklab, #000, #fff 10%);
  padding:12px 16px; border-radius:12px; border:1px solid var(--border);
  opacity:0; transform:translateY(6px); transition:.25s; color:var(--text)
}
.toast.show{opacity:1; transform:translateY(0)}
